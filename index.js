var b=Object.defineProperty;var M=(n,e,i)=>e in n?b(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var a=(n,e,i)=>(M(n,typeof e!="symbol"?e+"":e,i),i);import{W as f,S as v,P as O,C as y,V as L,M as X,D as Y,L as D,A as P,a as u,b as C,c as H,G as I,d as g,B as k,e as R,f as c,g as w}from"./vendor.js";const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}};x();class z{constructor(e=60,i=1.333,o=1,r=1e3){a(this,"aspectRatio");a(this,"fov");a(this,"znear");a(this,"zfar");a(this,"renderer");a(this,"scene");a(this,"camera");a(this,"clock");this.fov=e,this.aspectRatio=i,this.znear=o,this.zfar=r,this.renderer=new f,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",()=>{this.resize()},!1),window.addEventListener("mousedown",t=>{this.onMouseDown(t)}),window.addEventListener("mouseup",t=>{this.onMouseUp(t)}),window.addEventListener("mousemove",t=>{this.onMouseMove(t)}),window.addEventListener("wheel",t=>{this.onMouseWheel(t)}),window.addEventListener("keydown",t=>{this.onKeyDown(t)}),window.addEventListener("keyup",t=>{this.onKeyUp(t)}),this.scene=new v,this.camera=new O(this.fov,this.aspectRatio,this.znear,this.zfar),this.clock=new y}start(){this.createScene(),this.mainLoop()}mainLoop(){this.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.mainLoop())}resize(){this.renderer.setSize(window.innerWidth,window.innerHeight);var e=new L;this.renderer.getViewport(e);var i=window.innerWidth/window.innerHeight;this.aspectRatio>i?this.renderer.setViewport(0,(window.innerHeight-window.innerWidth/this.aspectRatio)/2,window.innerWidth,window.innerWidth/this.aspectRatio):this.renderer.setViewport((window.innerWidth-window.innerHeight*this.aspectRatio)/2,0,window.innerHeight*this.aspectRatio,window.innerHeight)}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onMouseWheel(e){}onKeyDown(e){}onKeyUp(e){}}class W extends z{constructor(){super(60,1920/1080,.1,100);a(this,"debugMode");a(this,"mouseDrag");a(this,"cameraOrbitX");a(this,"cameraOrbitY");a(this,"cameraDistance");a(this,"lightOrbitX");a(this,"lightOrbitY");a(this,"lightIntensity");a(this,"debugMaterial");a(this,"light");a(this,"lightHelper");this.debugMode=!1,this.mouseDrag=!1,this.cameraOrbitX=0,this.cameraOrbitY=0,this.cameraDistance=0,this.lightOrbitX=0,this.lightOrbitY=0,this.lightIntensity=0,this.debugMaterial=new X,this.light=new Y,this.lightHelper=new D}createScene(){this.cameraDistance=4,this.camera.position.set(0,0,this.cameraDistance),this.camera.lookAt(0,0,0),this.camera.up.set(0,1,0);var e=new P("white",.3);this.scene.add(e),this.light.color=new u("white"),this.lightIntensity=1,this.lightOrbitX=-22.5,this.lightOrbitY=45,this.scene.add(this.light);var i=[];i.push(new w(0,0,0)),i.push(new w(0,0,10)),this.lightHelper.geometry.setFromPoints(i),this.scene.add(this.lightHelper);var o=new C;o.color=new u("gray"),this.lightHelper.material=o,this.updateLightParameters(),this.debugMaterial.wireframe=!0;var r=new H(2);this.scene.add(r);var t=new I,s=t.addFolder("Controls");s.open();var d=s.add(this,"lightOrbitX",-180,180);d.name("Light Orbit X"),d.onChange(l=>{this.updateLightParameters()});var h=s.add(this,"lightOrbitY",-90,90);h.name("Light Orbit Y"),h.onChange(l=>{this.updateLightParameters()});var h=s.add(this,"lightIntensity",0,2);h.name("Light Intensity"),h.onChange(l=>{this.updateLightParameters()});var m=s.add(this,"debugMode");m.name("Debug Mode"),m.onChange(l=>{this.toggleDebugMode(l)});var p=new g(new k(1,1,1),new R({color:"skyblue"}));this.scene.add(p)}update(e){}onMouseDown(e){e.target.localName=="canvas"&&(this.mouseDrag=!0)}onMouseUp(e){this.mouseDrag=!1}onMouseMove(e){this.mouseDrag&&(this.cameraOrbitX+=e.movementY,this.cameraOrbitX<90||this.cameraOrbitX>270?this.cameraOrbitY+=e.movementX:this.cameraOrbitY-=e.movementX,this.cameraOrbitX>=360?this.cameraOrbitX-=360:this.cameraOrbitX<0&&(this.cameraOrbitX+=360),this.cameraOrbitY>=360?this.cameraOrbitY-=360:this.cameraOrbitY<0&&(this.cameraOrbitY+=360),this.updateCameraOrbit())}onMouseWheel(e){this.cameraDistance+=e.deltaY/1e3,this.updateCameraOrbit()}updateCameraOrbit(){var e=new c().makeRotationY(-this.cameraOrbitY*Math.PI/180);e.multiply(new c().makeRotationX(-this.cameraOrbitX*Math.PI/180)),this.camera.position.set(0,0,this.cameraDistance),this.camera.applyMatrix4(e),this.cameraOrbitX<90||this.cameraOrbitX>270?this.camera.up.set(0,1,0):this.cameraOrbitX>90&&this.cameraOrbitX<270?this.camera.up.set(0,-1,0):this.cameraOrbitX==270?this.camera.up.set(Math.sin(-this.cameraOrbitY*Math.PI/180),0,Math.cos(-this.cameraOrbitY*Math.PI/180)):this.camera.up.set(-Math.sin(-this.cameraOrbitY*Math.PI/180),0,-Math.cos(-this.cameraOrbitY*Math.PI/180)),this.camera.lookAt(0,0,0)}updateLightParameters(){var e=new c().makeRotationY(this.lightOrbitX*Math.PI/180);e.multiply(new c().makeRotationX(-this.lightOrbitY*Math.PI/180)),this.light.position.set(0,0,10),this.light.applyMatrix4(e),this.lightHelper.lookAt(this.light.position),this.light.intensity=this.lightIntensity}toggleDebugMode(e){this.scene.traverse(i=>{i instanceof g&&(e?(i.userData={originalMaterial:i.material},i.material=this.debugMaterial):i.material=i.userData.originalMaterial)})}}var A=new W;A.start();
