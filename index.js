var O=Object.defineProperty;var y=(s,e,t)=>e in s?O(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var i=(s,e,t)=>(y(s,typeof e!="symbol"?e+"":e,t),t);import{W as L,S as X,P as Y,C as D,V as P,M as p,D as k,L as C,G as H,A as I,a as w,b as x,B as R,c as m,d as b,e as z,f as A,g as G,h as d,i as f}from"./vendor.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}};E();class W{constructor(e=1.333){i(this,"aspectRatio");i(this,"fov");i(this,"znear");i(this,"zfar");i(this,"renderer");i(this,"scene");i(this,"camera");i(this,"clock");this.aspectRatio=e,this.fov=60,this.znear=1,this.zfar=1e3,this.renderer=new L,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",()=>{this.resize()},!1),window.addEventListener("mousedown",t=>{this.onMouseDown(t)}),window.addEventListener("mouseup",t=>{this.onMouseUp(t)}),window.addEventListener("mousemove",t=>{this.onMouseMove(t)}),window.addEventListener("keydown",t=>{this.onKeyDown(t)}),window.addEventListener("keyup",t=>{this.onKeyUp(t)}),this.scene=new X,this.camera=new Y(this.fov,this.aspectRatio,this.znear,this.zfar),this.clock=new D}start(){this.createScene(),this.mainLoop()}mainLoop(){this.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.mainLoop())}resize(){this.renderer.setSize(window.innerWidth,window.innerHeight);var e=new P;this.renderer.getViewport(e);var t=window.innerWidth/window.innerHeight;this.aspectRatio>t?this.renderer.setViewport(0,(window.innerHeight-window.innerWidth/this.aspectRatio)/2,window.innerWidth,window.innerWidth/this.aspectRatio):this.renderer.setViewport((window.innerWidth-window.innerHeight*this.aspectRatio)/2,0,window.innerHeight*this.aspectRatio,window.innerHeight)}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onKeyDown(e){}onKeyUp(e){}}class S extends W{constructor(){super(1920/1080);i(this,"debugMode");i(this,"mouseDrag");i(this,"crushAlpha");i(this,"cameraOrbitX");i(this,"cameraOrbitY");i(this,"cameraDistance");i(this,"lightOrbitX");i(this,"lightOrbitY");i(this,"lightIntensity");i(this,"debugMaterial");i(this,"light");i(this,"lightHelper");i(this,"meshGroup");this.debugMode=!1,this.mouseDrag=!1,this.crushAlpha=0,this.cameraOrbitX=0,this.cameraOrbitY=0,this.cameraDistance=0,this.lightOrbitX=0,this.lightOrbitY=0,this.lightIntensity=0,this.debugMaterial=new p,this.light=new k,this.lightHelper=new C,this.meshGroup=new H}createScene(){this.cameraDistance=4,this.camera.position.set(0,0,this.cameraDistance),this.camera.lookAt(0,0,0),this.camera.up.set(0,1,0);var e=new I("white",.3);this.scene.add(e),this.light.color=new w("white"),this.lightIntensity=1,this.lightOrbitX=-22.5,this.lightOrbitY=45,this.scene.add(this.light);var t=[];t.push(new f(0,0,0)),t.push(new f(0,0,10)),this.lightHelper.geometry.setFromPoints(t),this.scene.add(this.lightHelper);var n=new x;n.color=new w("gray"),this.lightHelper.material=n,this.updateLightParameters();var a=new p;a.side=R,a.color.set("black");var r=new m(new b(1e3,1e3,1e3),a);this.scene.add(r),this.debugMaterial.wireframe=!0;var o=new z(2);this.scene.add(o);var M=new A,h=M.addFolder("Controls");h.open();var u=h.add(this,"lightOrbitX",-180,180);u.name("Light Orbit X"),u.onChange(c=>{this.updateLightParameters()});var l=h.add(this,"lightOrbitY",-90,90);l.name("Light Orbit Y"),l.onChange(c=>{this.updateLightParameters()});var l=h.add(this,"lightIntensity",0,2);l.name("Light Intensity"),l.onChange(c=>{this.updateLightParameters()});var g=h.add(this,"debugMode");g.name("Debug Mode"),g.onChange(c=>{this.toggleDebugMode(c)}),this.scene.add(this.meshGroup);var v=new m(new b(1,1,1),new G({color:"skyblue"}));this.meshGroup.add(v)}update(e){}onMouseDown(e){e.target.localName=="canvas"&&(this.mouseDrag=!0)}onMouseUp(e){this.mouseDrag=!1}onMouseMove(e){this.mouseDrag&&(this.cameraOrbitX+=e.movementY,this.cameraOrbitX<90||this.cameraOrbitX>270?this.cameraOrbitY+=e.movementX:this.cameraOrbitY-=e.movementX,this.cameraOrbitX>=360?this.cameraOrbitX-=360:this.cameraOrbitX<0&&(this.cameraOrbitX+=360),this.cameraOrbitY>=360?this.cameraOrbitY-=360:this.cameraOrbitY<0&&(this.cameraOrbitY+=360),this.updateCameraOrbit())}updateCameraOrbit(){var e=new d().makeRotationY(-this.cameraOrbitY*Math.PI/180);e.multiply(new d().makeRotationX(-this.cameraOrbitX*Math.PI/180)),this.camera.position.set(0,0,this.cameraDistance),this.camera.applyMatrix4(e),this.cameraOrbitX<90||this.cameraOrbitX>270?this.camera.up.set(0,1,0):this.cameraOrbitX>90&&this.cameraOrbitX<270?this.camera.up.set(0,-1,0):this.cameraOrbitX==270?this.camera.up.set(Math.sin(-this.cameraOrbitY*Math.PI/180),0,Math.cos(-this.cameraOrbitY*Math.PI/180)):this.camera.up.set(-Math.sin(-this.cameraOrbitY*Math.PI/180),0,-Math.cos(-this.cameraOrbitY*Math.PI/180)),this.camera.lookAt(0,0,0)}updateLightParameters(){var e=new d().makeRotationY(this.lightOrbitX*Math.PI/180);e.multiply(new d().makeRotationX(-this.lightOrbitY*Math.PI/180)),this.light.position.set(0,0,10),this.light.applyMatrix4(e),this.lightHelper.lookAt(this.light.position),this.light.intensity=this.lightIntensity}toggleDebugMode(e){this.meshGroup.children.forEach(t=>{t instanceof m&&(e?(t.userData={originalMaterial:t.material},t.material=this.debugMaterial):t.material=t.userData.originalMaterial)})}}var V=new S;V.start();
